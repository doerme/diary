# high performance in mobile && tips for ES6

## high performance in mobile
平时业务大范围地使用图片, 其实图片对于前端来说是非常常见的, 图片也是网站流量大户, 我们怎么样能做才能优化这部分的性能呢?
我个人观点是使用 webp, 即使现在只有安卓原生才能支持, 但是这也服务了很大一部分的用户了, 而且使用 webp 并不激进, 不仅国外的 google 等等, 国内像阿里这样
都大范围使用了 webp 格式, 前端需要做的就是判断浏览器是否支持 webp 然后切换 webp 格式的图片 url. 另外一定要限制单张图片不超过 50 kb, 否则会加载非常慢.
而且图片按需加载, 这个我之前的插件可以用的上.

第二就是要域名收敛, 将静态资源与主站域名这些一定要分开, 因为如果都使用同一个一级域名, 有可能会导致 cookie 传输浪费, 因为 cookie 可能会随着请求发送发送出去, 
cookie 的 domain 一般都是设置为一级域名, 这样可以有效利用用户身份认证, 但是静态资源并不需要 cookie.

希望能够尽快研究出一套直出方案.
## tips for ES6
反思了最近所写的 ES6 + vue, 发现 vue 虽然方便快捷, 但是也有诸多限制, 发现在 .vue 单文件下, 最常用的特性是箭头函数, let, const, 解构赋值, 函数默认值, 
module 模块, promise, 而对于 ES6 中其他诸多特性像生成器, proxy, set/map, async, 遍历器, Symbol 等等这些貌似没有多少机会用上.
但是终归是为了更加美观简洁的代码, 而不是为了用而用, 所以需要更加深入学习 ES6 的其他特性然后在进行使用.

最近使用 ES6, 总结一下 ES6 的 tips:
```
1. 尽量用 const, let 代替大部分的场景, 我的建议是尽量用 const, 对于一定会修改初始值的才使用 let, 这样不仅仅是 Eslint 的规则, 因为 const 便于 ES 在静态编译的时候就进行一个
优化, 让代码性能更优.
2. 箭头函数没有 this, arguments 等等的一些属性, 所以不用用 箭头函数去声明一个函数, 或者说让箭头函数在全局作用域下使用.
```
