# process in node

前部分忘记同步了, 明天更新.

进程间通讯需要使用 IPC, 就像浏览器的 web worker API, 
```
var work = new Work('./work.js');
work.onmessage = function(data){
    console.log(data);
}


//work.js
var data = {
    test: 'test'
};

postMeaage(data);
```
对于 Node 进程, 父子进程之间的通信可以通过 message 和 send 方法:
```
//main
var cp = require('child_process');
var n = cp.fork(__dirname + 'sub.js');

n.on('message', function(m){
    console.log(m);
});

n.send({ data: 'test' });

//sub.js
process.on('message', function(m){
    console.log(m);
});

process.send({ foo: 'bar' });
```
